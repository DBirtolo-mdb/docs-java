=================
Update a Document
=================

.. default-domain:: mongodb

You can update a single document using the ``updateOne()`` method on
a ``MongoCollection`` object. The method accepts a **filter** that matches the
document you want to update and an **update** statement that instructs the
driver to change the matching document. The ``updateOne()`` method only 
updates the first document that matches the filter.

For more information on updating documents using the MongoDB Java driver,
see our guide (TODO: Fundamentals > CRUD Operations > Write Operations)
on updating documents.

You can pass ``UpdateOptions``... TODO

Upon successful execution, the ``updateOne()`` method returns an instance
of ``UpdateResult``.  You can retrieve information such as the number of
documents modified calling the ``getModifiedCount()`` method, or the
value of ``_id`` field by calling the ``getUpsertedId()`` method if you
specified ``upsert(true)`` in the ``UpdateOptions``.

TODO...
If your insert operation fails, the driver raises an exception. For more
information on the types of exceptions raised under specific conditions,
see the API documentation for ``insertOne()``, linked at the bottom of
this page.

Example
-------

The following snippet inserts a single document into the ``movies``
collection.

.. include:: /includes/connect-guide-note.rst

.. literalinclude:: /includes/usage-examples/code-snippets/InsertOne.java
   :language: java

If you are using the **legacy API**, see (TODO: FAQ ?) to determine what
changes you need to make to this code example.

When you run the example, you should see output that resembles the following
with the inserted document ``ObjectId`` in the value field:

.. code-block:: none

   Inserted document id: BsonObjectId{value=...}

For additional information on the classes and methods mentioned on this
page, see the following API documentation:

- :java-sync-api:`insertOne <com/mongodb/client/MongoCollection.html#insertOne>`
- :java-sync-api:`Document <bson/org/bson/Document.html>`
- :java-sync-api:`InsertOneResult <com/mongodb/client/result/InsertOneResult.html>`

